@page
@model SoccerManager.App.Presentacion.EditPersonaModel

@{
    int personaId = Model.persona.Id;
    int tipo_documentoId = Model.persona.Tipo_Documento;
    int generoId = Model.persona.Genero;
    int ciudadId = Model.persona.Ciudad;
    int perfilId = Model.persona.Perfil;

}

<h2><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
  <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
</svg>Editar Perfil   
</h2>
<form method="post">
    <input type="hidden" asp-for="persona.Id" />    
    <div class="form-group">
        <label asp-for="persona.Nombre"></label>
        <input asp-for="persona.Nombre" class="form-control">
        <span class="text-danger" asp-validation-for="persona.Nombre"></span>
    </div>
    <div class="form-group">
        <label asp-for="persona.Apellido"></label>
        <input asp-for="persona.Apellido" class="form-control">
        <span class="text-danger" asp-validation-for="persona.Apellido"></span>
    </div>
    
    <div class="form-group">
        <label asp-for="persona.Correo"></label>
        <input asp-for="persona.Correo" class="form-control">
        <span class="text-danger" asp-validation-for="persona.Correo"></span>
    </div>
    <div class="form-group">
        <label asp-for="persona.Telefono"></label>
        <input asp-for="persona.Telefono" class="form-control">
        <span class="text-danger" asp-validation-for="persona.Telefono"></span>
    </div>
    <div class="form-group">
        <label asp-for="persona.Fecha_Nacimiento"></label>
        <input asp-for="persona.Fecha_Nacimiento" class="form-control">
        <span class="text-danger" asp-validation-for="persona.Fecha_Nacimiento"></span>
    </div>
    <div class="form-group">
        <label asp-for="persona.Tipo_Documento"></label>
        <select class="form-select" name="persona.Tipo_Documento">
            <option selected  value=0>Seleccionar opcion</option>
            @foreach(var elemento in Model.tipos_documentos){
               if (elemento.Id == tipo_documentoId) {
                  <option value="@elemento.Id" selected> @elemento.Abreviatura @elemento.Nombre </option> 
                }
               else {
                  <option value="@elemento.Id"> @elemento.Abreviatura @elemento.Nombre </option>
               }
            }
        </select>
        <span class="text-danger" asp-validation-for="persona.Tipo_Documento"></span>
    </div> 
    <div class="form-group">
        <label asp-for="persona.Num_Documento"></label>
        <input asp-for="persona.Num_Documento" class="form-control">
        <span class="text-danger" asp-validation-for="persona.Num_Documento"></span>
    </div>
    <div class="form-group">
        <label asp-for="persona.Genero"></label>
        <select class="form-select" name="persona.Genero">
            <option selected  value=0>Seleccionar opcion</option>
            @foreach(var elemento in Model.generos){
               if (elemento.Id == generoId) {
                  <option value="@elemento.Id" selected> @elemento.Nombre @elemento.Abreviatura </option> 
                }
               else {
                  <option value="@elemento.Id"> @elemento.Nombre @elemento.Abreviatura </option>
               }
            }
        </select>
        <span class="text-danger" asp-validation-for="persona.Genero"></span>
    </div> 
    <div class="form-group">
        <label asp-for="persona.Ciudad"></label>
        <select class="form-select" name="persona.Ciudad">
            <option selected  value=0>Seleccionar opcion</option>
            @foreach(var elemento in Model.ciudades){
               if (elemento.Id == ciudadId) {
                  <option value="@elemento.Id" selected> @elemento.Nombre </option> 
                }
               else {
                  <option value="@elemento.Id"> @elemento.Nombre </option>
               }
            }
        </select>
        <span class="text-danger" asp-validation-for="persona.Ciudad"></span>
    </div> 
    <div class="form-group">
        <label asp-for="persona.Perfil"></label>
        <select class="form-select" name="persona.Perfil">
            <option selected  value=0>Seleccionar opcion</option>
            @foreach(var elemento in Model.perfiles){
               if (elemento.Id == perfilId) {
                  <option value="@elemento.Id" selected> @elemento.Nombre</option> 
                }
               else {
                  <option value="@elemento.Id"> @elemento.Nombre </option>
               }
            }
        </select>
        <span class="text-danger" asp-validation-for="persona.Perfil"></span>
    </div>


    <button type="submit" class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
</svg>Guardar</button>/*TO DO: Investigar como volver a listar al dar Guardar*/    
</form>

<a asp-page="./List" class="btn-default"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-reply-fill" viewBox="0 0 16 16">
  <path d="M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"/>
</svg>Cancelar </a>

